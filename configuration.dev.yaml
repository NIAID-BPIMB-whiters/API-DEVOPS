# =============================================================================
# DEV ENVIRONMENT - PUBLISHER CONFIGURATION
# =============================================================================
# TARGET ENVIRONMENT: DEV (niaid-bpimb-apim-dev)
# 
# This file configures how the publisher deploys artifacts TO the DEV environment.
# Repository artifacts are extracted FROM DAIDS_DEV and contain DAIDS_DEV resource
# references. This configuration remaps those references to DEV resources.
#
# Pipeline: DAIDS_DEV (extract) → Repository → DEV (deploy using this config)
# =============================================================================

apimServiceName: niaid-bpimb-apim-dev  # TARGET: DEV APIM Service
namedValues:
loggers:
  # Remap logger references from source (DAIDS_DEV) to target (DEV)
  # Repository contains: "apim-daids-connect-ai" (from DAIDS_DEV)
  # Deploy as: "niaid-bpimb-apim-dev-ai" (in DEV)
  - name: apim-daids-connect-ai
    properties:
      loggerType: applicationInsights
      resourceId: /subscriptions/18fc6b8b-44fa-47d7-ae51-36766ac67165/resourceGroups/niaid-bpimb-apim-dev-rg/providers/Microsoft.Insights/components/niaid-bpimb-apim-dev-ai
      credentials:
        connectionString: "{{niaid-bpimb-apim-dev-ai-connection-string}}"
diagnostics:
backends:

# =============================================================================
# SOAP/WSDL API MANAGEMENT NOTES
# =============================================================================
# Microsoft has documented that the current version of Azure APIops (v6.0.2) 
# does NOT support SOAP/WSDL APIs for automated deployment via publisher tool.
# 
# WSDL APIs must be deployed and managed manually through the Azure Portal.
# 
# Historical SOAP APIs that have been removed from this repository:
# - nihtrainingws: Deleted from dev environment and cleaned up from repo
# - numberconversion: Deleted from dev environment and cleaned up from repo
#
# For future SOAP API management:
# - Deploy manually through Azure Portal APIM interface
# - Do not add SOAP/WSDL specification files to this repository
# - APIops will ignore any manually deployed SOAP APIs in the portal
# =============================================================================

apis:
  # Configuration overrides for APIs across environments can be added here
  # Example structure (for supported API types - REST/OpenAPI/GraphQL only):
  # - name: demo-conference-api
  #   diagnostics:
  #     - name: applicationinsights
  #       properties:
  #         verbosity: Error